<!DOCTYPE html>
<html>
<head>
    <title>DOM XSS</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <h1 class="my-4 text-center">DOM XSS Labs</h1>
        <p class="my-4 text-center">By Eric Ardiansa</p>
        <p>Untuk menunjukkan DOM-based XSS, masukkan query parameter ke url seperti ini: <code>?q=your_input</code>
        atau masukkan kata pencarian di kolom bawah ini:</p>
        <!-- Form Inputan -->
        <form method="GET" action="dom_xss.php">
            <div class="form-group">
                <label for="q">Masukkan kata pencarian:</label>
                <input type="text" id="q" name="q" class="form-control" placeholder="Masukkan sesuatu...">
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
        </form>
        <!-- Output -->
        <p class="mt-4">Result:</p>
        <p id="output" class="border rounded p-3"></p>
        <!-- footer -->
        <br>
        <br>
        <br>
        <div class="text-center">
        <a href="index.php" class="btn btn btn-info my-4">Kembali ke Main Page</a>
    </div>


    <!-- Script to process input -->
    <script>
        // Parse the query string to extract the 'q' parameter
        var search = window.location.search;
        var params = new URLSearchParams(search);
        var q = params.get('q');   
        if (q !== null) {
            
        // Directly setting the innerHTML allows the execution of HTML/JS
        document.getElementById('output').innerHTML = "Kamu mencari: " + q;
        } else {
            document.getElementById('output').textContent = "Tidak ada query parameter yang diberikan.";
        }
    </script>
</body>
</html>
